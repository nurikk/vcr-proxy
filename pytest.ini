[pytest]
# Override pyproject.toml to add -p no:vcr-proxy.
# The vcr-proxy pytest plugin entry point imports vcr_proxy modules before
# pytest-cov starts tracking, causing those modules to show 0% coverage.
# Blocking the plugin allows coverage to track all module imports correctly.
# The plugin's fixtures (vcr_mode, vcr_proxy_app, vcr_proxy_transport) are
# replicated in tests/conftest.py.
asyncio_mode = auto
testpaths = tests
addopts = -p no:vcr-proxy --cov=vcr_proxy --cov-report=term-missing --cov-report=html
